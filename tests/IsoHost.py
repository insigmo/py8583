#!/usr/bin/env python
import logging
import struct

from py8583.py8583spec import IsoSpec1987ASCII

from py8583.py8583 import Iso8583, mem_dump


logging.basicConfig(level=logging.DEBUG)
data = (b"F0F1F0F0723C440188E18008F1F6F5F5"
        b"723C440188E18008"
        b"F3F1F5F75C5C5C5C5CF1F6F5F5F4F0F0"
        b"F0F0F0F0F0F0F0F0F0F0F0F0F2F5F0F0"
        b"F0F8F3F0F0F9F0F6F1F5F2F2F4F4F0F0"
        b"F1F2F0F6F1F4F0F8F3F0F2F2F1F2F4F1"
        b"F1F1F0F1F2F0F6F0F0F5F0F3F7F0F6F2"
        b"F0F0F1F5F4F1F2F4F2F1F2F4F4F8F0F1"
        b"F6F2F0F1F5F6F0F6F7F1F0F1F0F0F0F0"
        b"F1F5F6F4F6404040E3E2E340D7C1D9D2"
        b"C94040404040404040404040404040C2"
        b"8191929695A499404040404040D9E4E2"
        b"F0F1F8E7F6F1F0F5F0F0F0F0F1F6F4F0"
        b"F4F0F7F0F0F6F4F3F0F2F2F2F0F3F1F0"
        b"F0F0F0F0F0F6F0FF6F4F3F4F6F8F3F2")

mem_dump("Received:", data)
IsoPacket = Iso8583(data, iso_spec=IsoSpec1987ASCII())

IsoPacket.print_message()
